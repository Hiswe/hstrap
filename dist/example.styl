@import './local-config'
@import '../lib/hstrap/mixins'

$example-shadow = inset 0 0 4px noir(.15)
$menu-height    = px2em(32)
$width          = 50em


mq(size)
  if size == 'small' // 768
    @media screen and (min-width: 48em)
      {block}
  else if size == 'medium' // 832
    @media screen and (min-width: 52em)
      {block}
  else if size == 'large' // 1160
    @media screen and (min-width: 72.5em)
      {block}
  else
    {block}


html, body
  padding 0; margin 0

html
  background linear-gradient(to bottom, #fff, #ececec) fixed
  font-family 'Helvetica', 'arial', 'sans-serif'

body
  background transparent

*,
*::before,
*::after
  box-sizing border-box

+mq('small')
  .container
    width $width
    margin 0 auto

    .hs-menu &
      margin 0 auto


    > h1
      margin 1em 0 .5em
      color $h-pink
      text-shadow 2px 2px 0 noir(.25)


a.selected
  color $h-blue

// Top menu
.hs-menu
  background #262626
  margin 0
  padding 2em 0
  border-bottom 1px solid white
  border-top 4px solid $h-pink
  position relative

  // .hs-master-head
  //   flex 0 0 18em

  h1
    font-family 'hiso-bright', Helvetica, sans-serif
    font-weight normal
    margin .25em 0
    text-shadow 2px 2px 0 noir(.25)
    font-size 4em
    text-align left
    margin-bottom .25em
    crisp-font-smoothing()
    text-align center


    a
      color $h-pink

      &.toggle-menu
        rem-fs(22)
        color $h-blue
        position absolute
        top .25em
        left .25em
        line-height .75

  h4
    text-align center
    color $h-dark-grey
    text-shadow 1px 1px 0 noir(.25)
    letter-spacing .25em
    text-indent .75em


#menu
  position absolute
  top   -4px
  left  0
  border-top 4px solid $h-pink
  transform translate(-100%, 0)
  background #262626
  padding 0
  margin  0

  li, a
    display block

  li
    padding 0

  a
    padding 1em

  &:target
    transform translate(0, 0)

+mq('medium')
  .hs-menu
    h1,
    h4
      text-align left

    .toggle-menu
      display none

  #menu
    position    static
    border      0
    transform   none
    align-self  center

    li:first-child
      display none

    li, a
      display inline-block


.hs-small-menu
  position relative
  z-index 3
  padding .25em 0 0

  h1
    font-size 2em
  h4
    display none
  li
    padding-top 0

.hs-title
  font-family 'hiso-dark', Helvetica, sans-serif
  font-weight normal
  font-size 2.5em
  text-align center

// Home main banner
.hs-submenu
  display none

+mq('large')
  .hs-submenu
    display block
    width 9em
    margin 0 0 0 $h-gutter
    padding 0
    position fixed
    z-index 2
    top 0
    left 100%
    margin-left -(@width + 1em)

    .h-box
      border-top none

    ul, li
      list-style none
      margin 0

    li:first-child
      padding 1em 0

    a, strong
      padding .25em 0
      display block


section > h2
  margin 1em 0 .5em
  color $h-pink
  font-family 'hiso-dark', Helvetica, sans-serif
  font-weight normal
  font-size 2.5em
  crisp-font-smoothing()
  text-shadow -1px -1px 0 noir(.25), 1px 1px 0 white
  position relative
  padding 0 0 0 .5em
  text-align center

  small
    display block
    font-family Helvetica, arial, sans-serif
    font-size .5em
    color noir(.5)
    text-shadow none
    font-weight normal

    &::before
      content '('
    &::after
      content ')'

  +mq('large')
    text-align left
    padding 0

    small
      position absolute
      right 100%; top 20%
      margin-right .5em
      color #ececec
      background noir(.2)
      padding .25em .5em
      transform-origin top right
      transform skewY(-27deg)

      &::before,
      &::after
        display none

table
  width 100%

th
  text-align left

ul.h-row
  padding 0
  margin 0
li.h-col
  list-style none

section
  margin-bottom 1em
  &.home-section
    padding 1em 1em 0

  .h-row + .h-row
    margin-top 1em

  .h-col
    padding 1em
    text-align center
  .h-col:nth-child(1)
    background noir(.6)
  .h-col:nth-child(2)
    background noir(.5)
  .h-col:nth-child(3)
    background noir(.4)
  .h-col:nth-child(4)
    background noir(.3)
  .h-col:nth-child(5)
    background noir(.2)

  + h4
    margin 1em 0 .25em

  table&
    width 100%
    border-spacing .1em

    th, td
      padding .5em

    th
      font-weight bold

.notice
  font-family Helvetica, arial, sans-serif
  font-style italic
  font-size $h-fs
  color #AAA
  text-shadow none


dl
  margin-bottom -.5em

dt, dd
  padding .5em
  margin-bottom .5em

dt
  background rgba($h-light-pink, .25)

dd
  margin-left .5em

+mq('small')
  dt, dd
    display inline-block
    vertical-align top
    width 35%

  dt
    margin-left -1em
    padding-left 1em

  dd
    width 64%
    padding-left 1em
    margin-left -4px

    ul
      margin 0
      padding 0
      list-style none

.danger
  color $h-pink
  display block

  &:before
    content '! '

aside.h-popover
  position relative

.hs-box
  background-image embedurl('media/stripe_a028efdbf39d1d58806f780f3cc1d323.png')

  .hs-box
    margin-top .5em
    background-image none

  +mq('small')
    h-box()
    h-box-inset()
    background-image embedurl('media/stripe_a028efdbf39d1d58806f780f3cc1d323.png')

.hs-stem
  $$stem-size = .75em
  position relative
  line-height 3em
  background lighten($h-components-border, 75%)
  border 2px solid $h-components-border
  text-align center

  &::before
    stem("left", $h-components-border, $$stem-size)
    position absolute
    margin-top -($$stem-size)
    left -($$stem-size)
    top 50%

.underline-demo a
  transition none
  underline(height: 16, color: rgba($h-dark-blue, .5))

  &:hover
    underline(height: 16, color: rgba($h-blue, .5))

.center-demo
  min-height 15em
  position relative

  p
    width 50%;
    padding 1em;
    margin 0
    color white;
    text-align center
    background $h-blue

  &.v-align
    height 15em
    text-align center
    v-align('> p')

  &.center-transform p
    center-transform()

  &.center-flex
    center-flex()

.hs-box.angle-demo
  height 15em
  position relative
  background radial-gradient(center, circle closest-side,white 74%, #ddd 75%, white 76%)
  $$shiftX = @height/2
  $$shiftY = 7.5em
  padding 0
  text-align center

  ul
    display inline-block
    position relative
    height  @height
    width   @height
    padding 0
    margin  0

    &::before,
    &::after
      content ''
      center-transform()
      circle()
      border 2px solid noir(.25)

    &::before
      width 0
      height @width

    &::after
      width .75em
      height @width

  li
    position absolute; display block; width 2em; height @width;
    margin-top -(@width/2)
    margin-left @margin-top
    color white; text-align center; line-height @width
    background $h-blue;

    $$distance = 5.5em
    $$angles = 0deg 30deg -45deg 90deg -90deg 180deg 585deg

    for num in (0..6)
      &:nth-child({num+1})
        angle2topLeft($$angles[num], $$distance, $$shiftX, $$shiftY)

.circle-demo
  text-align center
  p
    width 6em
    height @width
    padding-top 1.5em
    display inline-block
    background $h-blue
    box-sizing border-box
    circle()
    color white


.easing-demo,
.easing-demo li,
.easing-demo p
  padding     0
  margin      0
  list-style  none

.easing-demo
  padding 0 1em

.easing-demo li
  padding .85em 0

  p
    font-weight bold
    margin-bottom 1em
    padding-right 1em
    cursor pointer

  .easing-test
    position relative
    border 1px solid noir(.15)
    border-width 1px 0

    .easing-cursor
      width 1.5em
      height 1.5em
      display block
      margin -(@height/2) 0 0 -(@width/2)
      position absolute
      top 0
      left 0
      background $h-blue

  &:hover
    p
      color $h-pink

    .easing-cursor
      left 100%
      left calc(100% - 1.5em)

  +mq('medium')

    flex-row()

    p,
    .easing-test
      display inline-block

    p
      margin-bottom 0
      width 20%
      text-align right

    .easing-test
      align-self center
      flex-grow 1

.easing-cursor
  transition-property   left
  transition-duration   1s

  .linear &
    transition-timing-function h-ease("linear")
  .ease &
    transition-timing-function h-ease("ease")
  .ease-in &
    transition-timing-function h-ease("ease-in")
  .ease-out &
    transition-timing-function h-ease("ease-out")
  .ease-in-out &
    transition-timing-function h-ease("ease-in-out")
  .easeInQuad &
    transition-timing-function h-ease("easeInQuad")
  .easeInCubic &
    transition-timing-function h-ease("easeInCubic")
  .easeInQuart &
    transition-timing-function h-ease("easeInQuart")
  .easeInQuint &
    transition-timing-function h-ease("easeInQuint")
  .easeInSine &
    transition-timing-function h-ease("easeInSine")
  .easeInExpo &
    transition-timing-function h-ease("easeInExpo")
  .easeInCirc &
    transition-timing-function h-ease("easeInCirc")
  .easeInBack &
    transition-timing-function h-ease("easeInBack")
  .easeOutQuad &
    transition-timing-function h-ease("easeOutQuad")
  .easeOutCubic &
    transition-timing-function h-ease("easeOutCubic")
  .easeOutQuart &
    transition-timing-function h-ease("easeOutQuart")
  .easeOutQuint &
    transition-timing-function h-ease("easeOutQuint")
  .easeOutSine &
    transition-timing-function h-ease("easeOutSine")
  .easeOutExpo &
    transition-timing-function h-ease("easeOutExpo")
  .easeOutCirc &
    transition-timing-function h-ease("easeOutCirc")
  .easeOutBack &
    transition-timing-function h-ease("easeOutBack")
  .easeInOutQuad &
    transition-timing-function h-ease("easeInOutQuad")
  .easeInOutCubic &
    transition-timing-function h-ease("easeInOutCubic")
  .easeInOutQuart &
    transition-timing-function h-ease("easeInOutQuart")
  .easeInOutQuint &
    transition-timing-function h-ease("easeInOutQuint")
  .easeInOutSine &
    transition-timing-function h-ease("easeInOutSine")
  .easeInOutExpo &
    transition-timing-function h-ease("easeInOutExpo")
  .easeInOutCirc &
    transition-timing-function h-ease("easeInOutCirc")
  .easeInOutBack &
    transition-timing-function h-ease("easeInOutBack")

// Github link
aside
  display none

  +mq('large')
    display block
    position absolute
    top 0
    right 0
    width 15em
    height 11.5em
    overflow: hidden

    a
      display block
      margin-top 10em
      padding .25em 1em
      width 120%
      background #444
      text-align center; color #222; font-weight bold
      text-shadow 1px 1px rgba(255,255,255,0.15); text-decoration none
      transform rotate(45deg)
      transform-origin top right
      transition background .25s

      &:hover
        background: #555

      span
        display block; padding .25em 0
        border dashed 1px rgba(0, 0, 0, 0.5); border-width 1px 0
        color @color
